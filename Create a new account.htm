<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0126)https://uniportal.huawei.com/accounts/register.do?method=toRegister&appurl=http%3A%2F%2Fwww.huawei.com%2Fin%2Findex.htm&nls=en -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Create a new account</title> 
<meta http-equiv="Content-Type" content="text/html">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Cache-Control" content="no-cache">
<meta http-equiv="Expires" content="0">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="keywords" content=" ">
<meta name="description" content=" ">

<link rel="Stylesheet" href="css/public.css" type="text/css"/>
<link rel="Stylesheet" href="css/only.css" type="text/css"/>

<script src="css/register.js"></script><script src="css/countryCodeList.js"></script></head>



<body>
<form name="registerInfoForm" method="post" action="register.jsp">
  <div id="swap">
    <div id="header_box">
  <div id="header"><img src="images/logo.png" alt="Logo" border="0"></div>
</div>
<div id="mainbox">
    <div id="content_title">
	    <h1>&nbsp;&nbsp;     <font>Create a new account</font></h1>
	    <span>
	    	<a href="index.html">
	    	Login</a>
	    			  
			  
	    </span>
	    <div class="clearBoth"></div>
	</div>
	
  <div id="content">
    <div id="content_top"></div>
    <div class="register_pw">
      <div class="register_main_box">
      	<div class="register_message">
		<a name="message"></a>
		<span id="spanmessage" class="redtips"></span>
		</div>
        <div class="register_oneline">
        	<div class="register_text">
        		User ID
        		<span class="register_redstar">*</span>
        	</div>
        	<input type="text" name="registerVO.userId" size="30" tabindex="1" value="" onblur="hideTips();checkAccount();" onfocus="showTips();" class="inputBgLine register_input" id="registerVO.userId">
        	<span class="redtips" id="spanuinfo">
        	 
        	</span>
        </div>
        <div class="register_oneline">
        	<div class="register_text">
        		Email Address
	        	<span class="register_redstar">*</span>
        	</div>
        	<input type="text" name="registerVO.email" size="30" tabindex="2" value="" onblur="hideTipsMail();checkEmail();" onfocus="showTipsMail();" class="inputBgLine register_input" id="registerVO.email">
        	<span class="redtips" id="spanmailinfo">
        		
        	</span>
        </div>
        <div class="register_oneline">
        	<div class="register_text">
        		Password
        		<span class="register_redstar">*</span>
        	</div>
        	<input type="password" name="registerVO.password" size="30" tabindex="3" value="" onblur="hideTips_pw();checkPassword();" onfocus="showTips_pw();" class="inputBgLine register_input" id="registerVO.password">
			<span class="redtips" id="spanpwdinfo">
			 
			</span>
        </div>
        <div class="register_oneline">
        	<div class="register_text">
        		Confirm Password
				<span class="register_redstar">*</span>
        	</div>
        	<input type="password" name="registerVO.repassword" size="30" tabindex="4" value="" onblur="hideTips_repwd();checkRepassword();" onfocus="showTips_repwd();" class="inputBgLine register_input" id="registerVO.repassword">
			<span class="redtips" id="spanrepwdinfo">
				 
			</span>
		</div>
        <div class="register_oneline">
        	<div class="register_text">
        		Phone Number
        		<span class="register_redstar">*</span>
        	</div>
			<select id="countryCodeSelect" class="inputBgLine register_select" onchange="setCountryCodeByCountry(this.value)">
			<option value="Afghanistan (+93)">Afghanistan (+93)</option><option value="Albania (+355)">Albania (+355)</option><option value="Algeria (+213)">Algeria (+213)</option><option value="Andorra (+376)">Andorra (+376)</option><option value="Angola (+244)">Angola (+244)</option><option value="Antigua and Barbuda (+1268)">Antigua and Barbuda (+1268)</option><option value="Argentina (+54)">Argentina (+54)</option><option value="Armenia (+374)">Armenia (+374)</option><option value="Australia (+61)">Australia (+61)</option><option value="Austria (+43)">Austria (+43)</option><option value="Azerbaijan (+994)">Azerbaijan (+994)</option><option value="Bahamas (+1242)">Bahamas (+1242)</option><option value="Bahrain (+973)">Bahrain (+973)</option><option value="Bangladesh (+880)">Bangladesh (+880)</option><option value="Belarus (+375)">Belarus (+375)</option><option value="Belgium (+32)">Belgium (+32)</option><option value="Belize (+501)">Belize (+501)</option><option value="Benin (+229)">Benin (+229)</option><option value="Bhutan (+975)">Bhutan (+975)</option><option value="Bolivia (+591)">Bolivia (+591)</option><option value="Bosnia and Herzegovina (+387)">Bosnia and Herzegovina (+387)</option><option value="Botswana (+267)">Botswana (+267)</option><option value="Brazil (+55)">Brazil (+55)</option><option value="Brunei (+673)">Brunei (+673)</option><option value="Bulgaria (+359)">Bulgaria (+359)</option><option value="Burkina Faso (+226)">Burkina Faso (+226)</option><option value="Burma (+95)">Burma (+95)</option><option value="Burundi (+257)">Burundi (+257)</option><option value="Cameroon (+237)">Cameroon (+237)</option><option value="Canada (+1)">Canada (+1)</option><option value="Central African Republic (+236)">Central African Republic (+236)</option><option value="Chad (+235)">Chad (+235)</option><option value="Chile (+56)">Chile (+56)</option><option value="China (+86)">China (+86)</option><option value="Colombia (+57)">Colombia (+57)</option><option value="Congo (+242)">Congo (+242)</option><option value="Costa Rica (+506)">Costa Rica (+506)</option><option value="Croatia (+385)">Croatia (+385)</option><option value="Cuba (+53)">Cuba (+53)</option><option value="Curacao (+599)">Curacao (+599)</option><option value="Cyprus (+357)">Cyprus (+357)</option><option value="Czech Republic (+420)">Czech Republic (+420)</option><option value="Denmark (+45)">Denmark (+45)</option><option value="Djibouti (+253)">Djibouti (+253)</option><option value="Dominica Rep. (+1890)">Dominica Rep. (+1890)</option><option value="Ecuador (+593)">Ecuador (+593)</option><option value="Egypt (+20)">Egypt (+20)</option><option value="El Salvador (+593)">El Salvador (+593)</option><option value="Equatorial Guinea (+240)">Equatorial Guinea (+240)</option><option value="Estonia (+372)">Estonia (+372)</option><option value="Ethiopia (+251)">Ethiopia (+251)</option><option value="Fiji (+679)">Fiji (+679)</option><option value="Finland (+358)">Finland (+358)</option><option value="France (+33)">France (+33)</option><option value="Gabon (+241)">Gabon (+241)</option><option value="Gambia (+220)">Gambia (+220)</option><option value="Georgia (+995)">Georgia (+995)</option><option value="Germany (+49)">Germany (+49)</option><option value="Ghana (+233)">Ghana (+233)</option><option value="Greece (+30)">Greece (+30)</option><option value="Grenada (+1809)">Grenada (+1809)</option><option value="Guatemala (+502)">Guatemala (+502)</option><option value="Guinea (+224)">Guinea (+224)</option><option value="Guyana (+592)">Guyana (+592)</option><option value="Haiti (+509)">Haiti (+509)</option><option value="Honduras (+504)">Honduras (+504)</option><option value="Hong Kong (+852)">Hong Kong (+852)</option><option value="Hungary (+36)">Hungary (+36)</option><option value="Iceland (+354)">Iceland (+354)</option><option value="India (+91)">India (+91)</option><option value="Indonesia (+62)">Indonesia (+62)</option><option value="Iran (+98)">Iran (+98)</option><option value="Iraq (+964)">Iraq (+964)</option><option value="Ireland (+353)">Ireland (+353)</option><option value="Israel (+972)">Israel (+972)</option><option value="Italy (+39)">Italy (+39)</option><option value="Ivory Coast (+225)">Ivory Coast (+225)</option><option value="Jamaica (+1876)">Jamaica (+1876)</option><option value="Japan (+81)">Japan (+81)</option><option value="Jordan (+962)">Jordan (+962)</option><option value="Kampuchea (Cambodia ) (+855)">Kampuchea (Cambodia ) (+855)</option><option value="Kazakhstan (+7)">Kazakhstan (+7)</option><option value="Kenya (+254)">Kenya (+254)</option><option value="Korea (+82)">Korea (+82)</option><option value="Kuwait (+965)">Kuwait (+965)</option><option value="Kyrgyzstan (+331)">Kyrgyzstan (+331)</option><option value="Laos (+856)">Laos (+856)</option><option value="Latvia (+371)">Latvia (+371)</option><option value="Lebanon (+961)">Lebanon (+961)</option><option value="Lesotho (+266)">Lesotho (+266)</option><option value="Liberia (+231)">Liberia (+231)</option><option value="Libya (+218)">Libya (+218)</option><option value="Liechtenstein (+423)">Liechtenstein (+423)</option><option value="Lithuania (+370)">Lithuania (+370)</option><option value="Luxembourg (+352)">Luxembourg (+352)</option><option value="Macao (+853)">Macao (+853)</option><option value="Macedonia (+389)">Macedonia (+389)</option><option value="Madagascar (+261)">Madagascar (+261)</option><option value="Malawi (+265)">Malawi (+265)</option><option value="Malaysia (+60)">Malaysia (+60)</option><option value="Mali (+223)">Mali (+223)</option><option value="Malta (+356)">Malta (+356)</option><option value="Mauritania (+222)">Mauritania (+222)</option><option value="Mauritius (+230)">Mauritius (+230)</option><option value="Mexico (+52)">Mexico (+52)</option><option value="Moldova (+373)">Moldova (+373)</option><option value="Monaco (+377)">Monaco (+377)</option><option value="Mongolia (+976)">Mongolia (+976)</option><option value="Montenegro (+381)">Montenegro (+381)</option><option value="Morocco (+212)">Morocco (+212)</option><option value="Mozambique (+258)">Mozambique (+258)</option><option value="Namibia (+264)">Namibia (+264)</option><option value="Nepal (+977)">Nepal (+977)</option><option value="Netherlands Antilles (+599)">Netherlands Antilles (+599)</option><option value="Netherlands (+31)">Netherlands (+31)</option><option value="NewZealand (+64)">NewZealand (+64)</option><option value="Nicaragua (+505)">Nicaragua (+505)</option><option value="Niger (+227)">Niger (+227)</option><option value="Nigeria (+234)">Nigeria (+234)</option><option value="North Korea (+850)">North Korea (+850)</option><option value="Norway (+47)">Norway (+47)</option><option value="Oman (+968)">Oman (+968)</option><option value="Pakistan (+92)">Pakistan (+92)</option><option value="Panama (+507)">Panama (+507)</option><option value="Papua New Guinea (+675)">Papua New Guinea (+675)</option><option value="Paraguay (+595)">Paraguay (+595)</option><option value="Peru (+51)">Peru (+51)</option><option value="Philippines (+63)">Philippines (+63)</option><option value="Poland (+48)">Poland (+48)</option><option value="Portugal (+351)">Portugal (+351)</option><option value="Qatar (+974)">Qatar (+974)</option><option value="Romania (+40)">Romania (+40)</option><option value="Russia (+7)">Russia (+7)</option><option value="San Marino (+378)">San Marino (+378)</option><option value="Sao Tome and Principe (+239)">Sao Tome and Principe (+239)</option><option value="Saudi Arabia (+966)">Saudi Arabia (+966)</option><option value="Senegal (+221)">Senegal (+221)</option><option value="Serbia (+381)">Serbia (+381)</option><option value="Serbia and Montenegro (+381)">Serbia and Montenegro (+381)</option><option value="Seychelles (+248)">Seychelles (+248)</option><option value="Sierra Leone (+232)">Sierra Leone (+232)</option><option value="Singapore (+65)">Singapore (+65)</option><option value="Slovakia (+421)">Slovakia (+421)</option><option value="Slovenia (+386)">Slovenia (+386)</option><option value="South Africa (+27)">South Africa (+27)</option><option value="Spain (+34)">Spain (+34)</option><option value="Sri Lanka (+94)">Sri Lanka (+94)</option><option value="Sudan (+249)">Sudan (+249)</option><option value="Suriname (+597)">Suriname (+597)</option><option value="Swaziland (+268)">Swaziland (+268)</option><option value="Sweden (+46)">Sweden (+46)</option><option value="Switzerland (+41)">Switzerland (+41)</option><option value="Syria (+963)">Syria (+963)</option><option value="Taiwan (+886)">Taiwan (+886)</option><option value="Tajikistan (+992)">Tajikistan (+992)</option><option value="Tanzania (+255)">Tanzania (+255)</option><option value="Thailand (+66)">Thailand (+66)</option><option value="Togo (+228)">Togo (+228)</option><option value="Tonga (+676)">Tonga (+676)</option><option value="Trinidad and Tobago (+1809)">Trinidad and Tobago (+1809)</option><option value="Tunisia (+216)">Tunisia (+216)</option><option value="Turkey (+90)">Turkey (+90)</option><option value="Turkmenistan (+993)">Turkmenistan (+993)</option><option value="Uganda (+256)">Uganda (+256)</option><option value="Ukraine (+380)">Ukraine (+380)</option><option value="United Arab Emirates (+971)">United Arab Emirates (+971)</option><option value="United Kingdom (+44)">United Kingdom (+44)</option><option value="United States of America (+1)">United States of America (+1)</option><option value="Uruguay (+598)">Uruguay (+598)</option><option value="Uzbekistan (+233)">Uzbekistan (+233)</option><option value="Venezuela (+58)">Venezuela (+58)</option><option value="Vietnam (+84)">Vietnam (+84)</option><option value="Yemen (+967)">Yemen (+967)</option><option value="Zaire (+243)">Zaire (+243)</option><option value="Zambia (+260)">Zambia (+260)</option><option value="Zimbabwe (+263)">Zimbabwe (+263)</option><option value="Other">Other</option></select><input type="text" name="registerVO.countryCode" size="30" tabindex="5" value="+86" onkeyup="setCountryByCountryCode(this.value)" onblur="checkCountryCode()" class="inputBgLine register_countrycode_input" id="registerVO.countryCode">
        	<span class="redtips" id="spancountrycode">
        		 
        	</span>
        </div>
         
        <div class="register_oneline">
       		<div class="register_text"></div>
        	<input type="text" name="registerVO.officePhone" size="30" tabindex="6" value="" onblur="hideTips_phone();checkOfficePhone();" onfocus="showTips_phone();" class="inputBgLine register_input" id="registerVO.officePhone">
        	<span class="redtips" id="spanofficephoneinfo">
        		 
        	</span>
        </div>
        
        
        
        	<div class="register_oneline">
	        	<div class="register_text">
	        		First Name
	        		<span class="register_redstar">*</span>
	        	</div>
	       	 	<input type="text" name="registerVO.givenname" size="30" tabindex="9" value="" onblur="javascript:checkGivenName();createCommonName();" class="inputBgLine register_input" id="registerVO.givenname">	       	 		 
				<span class="redtips" id="spangivennameinfo">
        		 
				</span>								
	        </div>	
	        <div class="register_oneline">
	        	<div class="register_text">
	        		Last Name
	        		<span class="register_redstar">*</span>
	        	</div>
	       		<input type="text" name="registerVO.surname" size="30" tabindex="10" value="" onblur="javascript:checkSurName();createCommonName();" class="inputBgLine register_input" id="registerVO.surname">
				
				<span class="redtips" id="spansurnameinfo">
        		 
				</span>
	        </div>
        
		<div class="register_oneline">
	     	<div class="register_text">
	     		Name
	     		<span class="register_redstar">*</span>
	    	</div>
			<input type="text" name="registerVO.commonname" size="30" tabindex="11" value="" onblur="checkCommonName();" class="inputBgLine register_input" id="registerVO.commonname">
			<span class="redtips" id="spancomnameinfo">
				
			</span>
		</div>
		<div class="register_oneline">
	        <div class="register_text">
	        	Gender
	        	<span class="register_redstar">*</span>
	        </div>
	        	<div class="noBorder">
		        	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		        	<input tabindex="12" type="radio" name="registerVO.sex" id="gender.male" value="0" class="noBorder" checked="checked">Male&nbsp;&nbsp;&nbsp;&nbsp;   
		        	<input tabindex="13" type="radio" name="registerVO.sex" id="gender.female" value="1" class="noBorder">Female
	        	</div>
        </div>


        <div class="tips_main" id="ac_tips" style="display:none">
          <div class="tips_text">
          	User ID should:<br>
          	<img id="dottips1" src="images/dot_blove.gif" border="0" align="absmiddle">start with a letter or a number;<br>
            <img id="dottips2" src="images/dot_blove.gif" border="0" align="absmiddle">use letters, numbers, underscores, ".", and "-" only;<br>
		 	<img id="dottips19" src="images/dot_blove.gif" border="0" align="absmiddle">Example of correct User ID format: <b>Jack_Wang</b><br>
		   </div>		   
		</div>
        <div class="tips_main" id="pwd_tips" style="display:none">
          <div class="tips_text">
          	Password should:<br>
          	<img id="dottips5" src="images/dot_blove.gif" border="0" align="absmiddle">
          		Be at least 8 characters in length.<br>
			<img id="dottips7" src="images/dot_blove.gif" border="0" align="absmiddle">
				Contain letters, numbers and special characters.<br>
			<img id="dottips18" src="images/dot_blove.gif" border="0" align="absmiddle">
				Example of correct Password format: <b>S7*$jEkc</b><br>
		   </div>  
        </div>
     	<div class="tips_main" id="repwd_tips" style="display:none">
          <div class="tips_text">
          	<img id="dottips8" src="images/dot_blove.gif" border="0" align="absmiddle">Please enter the same password as above.           
		   </div>		   
		</div>
		
		<div class="tips_main" id="phone_tips" style="display:none">
          <div class="tips_text">
          	<img id="dottips9" src="images/dot_blove.gif" border="0" align="absmiddle">Please enter your telephone number.           
		   </div>		   
		</div>
		
		<div class="tips_main" id="email_tips" style="display:none">
          <div class="tips_text">
          	<img id="dottips10" src="images/dot_blove.gif" border="0" align="absmiddle">Recommended priority in use of office E-mail.           
		   </div>		   
		</div>
		
      <div class="clearBoth"></div>
      <div class="register_agree">
      	<input type="checkbox" name="agreement" tabindex="15" value="yes" onclick="javascript:toAgree(this);" class="agree_input" id="agreement">
      	&nbsp;
   		<span class="register_redstar">*</span>
      	
	   		   	
	   		<a href="javascript:popu();">I understand and agree to comply with JK's terms and conditions.</a>
	   	
      
    </div>
      <input tabindex="16" type="submit" class="sub_bottom register_submit" name="regbtn" value="Register" disabled="" onclick="javascript:userRegister();" id="regbtn">
    </div>
    <div id="content_bottom"></div>
  </div>
  <div id="footer"></div>
</div>





<script>

var language = "en";


init();

function init() {
	if(language != "zh") {
		createCommonName();
	}
	var select = document.getElementById("countryCodeSelect");
	buildOptions(select, language);
	select.value = select.options[33].value;
	var agreemnet = document.getElementById("agreement");
	toAgree(agreemnet);
}

function containXSSCharater(str) {
	var xss = ['<','>','"','&','(',')','\\'];
	var code = ["&lt;","&gt;","&#34;","&#38;","&#40;","&#41;","&#92;"];
	var char = "";
	for(var i = 0;i < str.length;++i) {
		for(var j = 0;j < xss.length;++j) {	
			if(str.charAt(i) == xss[j]) {
				char += code[j];
				xss.splice(j,1);
				code.splice(j,1);
				break;
			}
		}
	}
	return char;
}

function setCountryCodeByCountry(country) {
	var input = document.getElementById("registerVO.countryCode");
	var code = countryCodeOfCountry(country, language);
	input.value = code;
}

function setCountryByCountryCode(code) {
	var select = document.getElementById("countryCodeSelect");
	var index = indexCountryCode(code);
	if(index != -1){
		select.value = select.options[index].value;
	}
}

function isValidUid(uid){
	if(isEmpty(uid)) {
		return 'User ID cannot be left blank.';
	} 
	if(uid.length > 50) {
		return 'User ID cannot be more than 50 characters.';	
	}

	var exUser=/^[a-zA-Z]{1,3}[0-9]{1,}$/;
	var userPrefix=/^[a-zA-Z0-9]{1}(\S){0,}$/;
	var userCharachter=/^([a-zA-Z0-9]|[\.\-_]){0,}$/;
	
	if(uid.toLowerCase().indexOf("pub_") == 0 ||
	   uid.toLowerCase().indexOf("eta_")== 0 ||
	   uid.toLowerCase().indexOf("igl_") == 0){
		return 'User ID cannot start with "pub_", "eta_", and "igl_".';
	}
	
	if(exUser.test(uid)){
		return 'User ID cannot be a string in the 1-3 letters + number format.';
	}
	
	if(!userPrefix.test(uid)){
		return 'User ID should start with a letter or a number.';
	}
	
	if(!userCharachter.test(uid)){
		return 'User ID should use letters, numbers, underscores, ".", and "-" only.';
	}
	
	return '';
}

function processAccountRequest(xmlHttpRequest) {
	if (xmlHttpRequest.readyState == 4 && xmlHttpRequest.status == 200) { 
		var returnObj = xmlHttpRequest.responseText;
		if(returnObj == "1"){
			document.getElementById("spanuinfo").innerHTML=
				'The User ID has been registered.';
		} else {
			document.getElementById("spanuinfo").innerHTML = 
				'<img id="correctips" src="images/icons_right.png" border="0" align="absmiddle"/>';
		}
	}
}

function checkAccount() {
	document.getElementById("spanuinfo").innerHTML = '';
	var uid = document.getElementById("registerVO.userId").value;
	var errorMessage = isValidUid(uid);
	if(errorMessage != ''){
		document.getElementById("spanuinfo").innerHTML = errorMessage;
	} else {
		var xmlHttpRequest = createXMLHttpRequest();
		if(xmlHttpRequest != null) {
			var newUrl = "/accounts/register.do?method=checkAccount&user_id="+uid;
			xmlHttpRequest.open("post", newUrl, true);
			xmlHttpRequest.send(null);
			xmlHttpRequest.onreadystatechange = function() {
				processAccountRequest(xmlHttpRequest);
			}
		}
	}
}

function isValidPassword(uid,pwd) {
	if(isEmpty(pwd)){
		return 'Password cannot be left blank.';
	}
	if(!isEmpty(uid)&&pwd.indexOf(uid)>=0){
		return 'Password cannot contain the User ID.'; 
	}
	if(pwd.length<8){
		return 'Password must be at least 8 characters in length.';
	}
	if(pwd.length > 60) {
		return 'Password length should not be more than 60.';
	}
	if(checkPwdComb(pwd)==1){
		return 'Password must contain at least one Letter.';
	}else if(checkPwdComb(pwd)==2){
		return 'Password must contain at least one Number.';
	}else if(checkPwdComb(pwd)==3){
		return 'Password must contain at least one special characters.';
	}else{
		return ''
	}
	
	return '';
}

function checkPassword() {
	var uid =document.getElementById("registerVO.userId").value;
	var pwd =document.getElementById("registerVO.password").value;
	var errorMessage = isValidPassword(uid,pwd);
	if(errorMessage != '') {
		document.getElementById("spanpwdinfo").innerHTML = errorMessage;
	} else {
		document.getElementById("spanpwdinfo").innerHTML = 
			'<img id="correctips" src="images/icons_right.png" border="0" align="absmiddle"/>';
	}
}

function isValidRepassword(pwd,repwd) {
 	if(isEmpty(repwd)){
		return 'Please confirm your password.'; 
	}
	if(pwd!=repwd){
		return 'Passwords do not match.'; 
	}
	return '';
}

function checkRepassword() {
	var pwd =document.getElementById("registerVO.password").value;
	var repwd =document.getElementById("registerVO.repassword").value;
	var errorMessage = isValidRepassword(pwd,repwd);
	if(errorMessage != ''){
		document.getElementById("spanrepwdinfo").innerHTML = errorMessage;
	} else {
 	document.getElementById("spanrepwdinfo").innerHTML = 
 		'<img id="correctips" src="images/icons_right.png" border="0" align="absmiddle"/>';
	}
}

function isValidEmail(email) {
	if(isEmpty(email)){
		return 'Email Address cannot be left blank.';
	}
	if(email.length > 100) {
		return 'Email cannot be more than 100 characters.';
	}
	
	var exmail = /^[a-zA-Z0-9_\.\-]+@([a-zA-Z0-9_\-]+\.)+([a-zA-Z0-9]{2,4})+$/;
	if(!exmail.test(email)){
		return 'Invalid Email Address format.';
	}
	return '';
}

function processEamilRequest(xmlHttpRequest) {			
	if (xmlHttpRequest.readyState == 4 && xmlHttpRequest.status == 200) { 
		var returnObj = xmlHttpRequest.responseText;
		if(returnObj=="1"){
			document.getElementById("spanmailinfo").innerHTML = 
				'Email address has been registered.&nbsp' + 
				'<a href="https://uniportal.huawei.com/uniportal/modifyInfo.do?actionFlag=toGetPassword&getPwdMethod=byEmail&redirect=http://www.huawei.com/in/index.htm&nls=en" style="color:red">'  + 
				'Get your account back?</a> &nbsp' + 
				'<a href="https://uniportal.huawei.com/uniportal/help_en.html#FAQ9" style="color:red">' + 
				'Help?</a>';
		}else if(returnObj=="2"){
			document.getElementById("spanmailinfo").innerHTML = 
				'Email address has been registered as User ID.&nbsp' + 
				'<a href="https://uniportal.huawei.com/uniportal/modifyInfo.do?actionFlag=toGetPassword&getPwdMethod=byUid&redirect=http://www.huawei.com/in/index.htm&nls=en" style="color:red">'  + 
				'Get your account back?</a> &nbsp' + 
				'<a href="https://uniportal.huawei.com/uniportal/help_en.html#FAQ9" style="color:red">' + 
				'Help?</a>';
		} else {
			document.getElementById("spanmailinfo").innerHTML = 
 				'<img id="correctips" src="images/icons_right.png" border="0" align="absmiddle"/>';
		}
	}
}

function checkEmail(){
	document.getElementById("spanmailinfo").innerHTML = '';
	var email = document.getElementById("registerVO.email").value;
	var errorMessage = isValidEmail(email);
	if(errorMessage != ''){
		document.getElementById("spanmailinfo").innerHTML = errorMessage;
	} else {
		var xmlHttpRequest = createXMLHttpRequest();
		if(xmlHttpRequest != null) {
			var newUrl = "/accounts/register.do?method=checkEmail&email="+email;
			xmlHttpRequest.open("post", newUrl, true);
			xmlHttpRequest.send(null);
			xmlHttpRequest.onreadystatechange = function() {
				processEamilRequest(xmlHttpRequest);
			}
		}
	}
}

function isValidPhone(phone) {
    if(isEmpty(phone)) {
		return 'Phone Number cannot be left blank.';
    }
    if(phone.length<7||phone.length>30){
		return "Phone Number should be between 7 and 30 digits in length.";
    }
    
    var str=/^[0-9-\+]*$/;
    if(!str.test(phone)){
		return 'Invalid Phone Number format.';
	}
	return '';
}

function checkCountryCode() {
	var countryCode =document.getElementById("registerVO.countryCode").value;
	var errorMessage = isValidCountryCode(countryCode);
	if(errorMessage != '') {
		document.getElementById("spancountrycode").innerHTML = errorMessage;
	} else {
		document.getElementById("spancountrycode").innerHTML = 
			'<img id="correctips" src="images/icons_right.png" border="0" align="absmiddle"/>';
    }
}

function isValidCountryCode(countryCode) {
	var error = 'Invalid country code format.';
	if(countryCode.length < 2) {
		return error;
	} else if(countryCode.charAt(0) != '+'){
		return error;
	}
	for(var i = 1;i < countryCode.length;++i) {
		var ch = countryCode.charAt(i);
		if(ch < '0' || ch > '9') {
			return error;
		}
	}
	return "";
}

function checkOfficePhone(){
	var phone =document.getElementById("registerVO.officePhone").value;
	var errorMessage = isValidPhone(phone);
	if(errorMessage != '') {
		document.getElementById("spanofficephoneinfo").innerHTML = errorMessage;
	} else {
		document.getElementById("spanofficephoneinfo").innerHTML = 
			'<img id="correctips" src="images/icons_right.png" border="0" align="absmiddle"/>';
    }
}

function isValidSurName(surname) {
	if(isEmpty(surname)){
		return 'Last Name cannot be left blank.';
	}
	if(surname.length>50){	
		return 'Last Name cannot be more than 50 characters.'; 
	}
	var temp = surname;
	if(trim(temp).length != surname.length){
		return 'Invalid Last Name format.';
	}
	var charater = containXSSCharater(surname);
	if(charater != ""){
		return 'Last Name should not contain character(s): ' + charater;
	}
	return ''
}

function checkSurName(){
	var surname =document.getElementById("registerVO.surname").value;
	var errorMessage = isValidSurName(surname);
	if(errorMessage != ''){
		document.getElementById("spansurnameinfo").innerHTML = errorMessage;
	} else{
		document.getElementById("spansurnameinfo").innerHTML = 
			'<img id="correctips" src="images/icons_right.png" border="0" align="absmiddle"/>';			
	}
}

function isValidGivenName(givenname) {
	if(isEmpty(givenname)){
		return 'First Name cannot be left blank.';
	}
	if(givenname.length>50){	
		return 'First Name cannot be more than 50 characters.'; 
	}
	var temp = givenname;
	if(trim(temp).length != givenname.length){
		return 'Invalid First Name format.';
	}
	var charater = containXSSCharater(givenname);
	if(charater != ""){
		return 'First Name should not contain character(s): ' + charater;
	}
	return '';
}

function checkGivenName(){
	var givenname =document.getElementById("registerVO.givenname").value;
	var errorMessage = isValidGivenName(givenname);
	if(errorMessage != ''){
		document.getElementById("spangivennameinfo").innerHTML = errorMessage;
	} else {
		document.getElementById("spangivennameinfo").innerHTML =
			'<img id="correctips" src="images/icons_right.png" border="0" align="absmiddle"/>';
	}
}

function isValidCommonName(commonname) {
	if(isEmpty(commonname)){
  		return 'Name cannot be left blank.';
	}
	if(commonname.length > 100){	
		return 'Name cannot be more than 100 characters.'; 
	}
	var temp = commonname;
	if(trim(temp).length != commonname.length){
		return 'Invalid Name format.';
	}
	var charater = containXSSCharater(commonname);
	if(charater != ""){
		return 'Name should not contain character(s): ' + charater;
	}
	return '';
}
  
function checkCommonName(){
	var commonname=document.getElementById("registerVO.commonname").value;	
	var errorMessage = isValidCommonName(commonname);
	if(errorMessage != '') {
		document.getElementById("spancomnameinfo").innerHTML = errorMessage;
	} else {
		document.getElementById("spancomnameinfo").innerHTML = 
			'<img id="correctips" src="images/icons_right.png" border="0" align="absmiddle"/>';
	}
}

function isValidVerifyCode(verifyCode) {
	if(isEmpty(verifyCode)) {
		return 'Verify Code cannot be left blank.';
	}
	return '';
}

function checkVerifyCode(){
	var verifyCode = document.getElementById("registerVO.verifycode").value;
	var errorMessage = isValidVerifyCode(verifyCode);
	if(errorMessage != '') {
		document.getElementById("verifycodeinfo").innerHTML=errorMessage;
	} else {
		document.getElementById("verifycodeinfo").innerHTML='';
	}
}

function loadimage(){	
	document.getElementById("verifycodeimage").src = "/accounts/jsp/image.jsp?" + Math.random();
	document.getElementById("registerVO.verifycode").value="";
	document.getElementById("verifycodeinfo").innerHTML="";
}

function createCommonName(){
	var surname =document.getElementById("registerVO.surname").value;
	var givenname =document.getElementById("registerVO.givenname").value;
	
	document.getElementById("registerVO.commonname").value= trim(givenname + " " + surname);
}

function touserRegister(obj){ 
	document.registerInfoForm.action='/accounts/register.do?method=toRegister&nls='+obj;
	document.registerInfoForm.submit();
}

function popu(){
	var openurl="Registration.jsp";
	if(language == "zh"){
		openurl="Registration_zh.jsp";
	}
	window.open(openurl,"","width=830,height=630,resizable=no,status=no,toolbar:no");
}

function userRegister() { 
	if(checkRegisterForm()) {	   
		document.registerInfoForm.method.value = "register.jsp";
		document.registerInfoForm.submit();
	}
}

	
function checkRegisterForm(){
	var form = document.registerInfoForm;	
	var errorMessage = '';
	var staticCheckPass = true;
	var passIMG = '<img id="correctips" src="images/icons_right.png" border="0" align="absmiddle"/>';
	
	//User ID
	if((errorMessage = isValidUid(form['registerVO.userId'].value)) != ''){
		document.getElementById("spanuinfo").innerHTML = errorMessage;
		staticCheckPass = false;
	}
	//Password
	if((errorMessage = isValidPassword(form['registerVO.userId'].value,form["registerVO.repassword"].value)) != '') {
		document.getElementById("spanpwdinfo").innerHTML = errorMessage;
		staticCheckPass = false;
	} else {
		document.getElementById("spanpwdinfo").innerHTML = passIMG;
	}
	//Confirm Password
	if((errorMessage = isValidRepassword(form["registerVO.repassword"].value,form["registerVO.repassword"].value)) != '') {
		document.getElementById("spanrepwdinfo").innerHTML = errorMessage;
		staticCheckPass = false;
	} else {
		document.getElementById("spanrepwdinfo").innerHTML = passIMG;
	}
	//Email
	if((errorMessage = isValidEmail(form["registerVO.email"].value)) != '') {
		document.getElementById("spanmailinfo").innerHTML = errorMessage;
		staticCheckPass = false;
	}
	//Country Code
	if((errorMessage = isValidCountryCode(form["registerVO.countryCode"].value) != '')) {
		document.getElementById("spancountrycode").innerHTML = errorMessage;
		staticCheckPass = false;
	} else {
		document.getElementById("spancountrycode").innerHTML = passIMG;
	}
	//Phone Number
	if((errorMessage = isValidPhone(form["registerVO.officePhone"].value)) != '') {
		document.getElementById("spanofficephoneinfo").innerHTML = errorMessage;
		staticCheckPass = false;
	} else {
		document.getElementById("spanofficephoneinfo").innerHTML = passIMG;
	}
	//Last Name	
	if((errorMessage = isValidSurName(form["registerVO.surname"].value)) != '') {
		document.getElementById("spansurnameinfo").innerHTML = errorMessage;
		staticCheckPass = false;
	} else {
		document.getElementById("spansurnameinfo").innerHTML = passIMG;
	}
	//First Name 
	if((errorMessage = isValidGivenName(form["registerVO.givenname"].value)) != '') {
		document.getElementById("spangivennameinfo").innerHTML = errorMessage;
		staticCheckPass = false;
	} else {
		document.getElementById("spangivennameinfo").innerHTML = passIMG;
	}

	if((errorMessage = isValidCommonName(form["registerVO.commonname"].value)) != '') {
		document.getElementById("spancomnameinfo").innerHTML = errorMessage;
		staticCheckPass = false;
	}  else {
		document.getElementById("spancomnameinfo").innerHTML = passIMG;
	}

	if(isEmpty(form["registerVO.verifycode"].value)){
		document.getElementById("verifycodeinfo").innerHTML = 
			'Verify Code cannot be left blank.';
		staticCheckPass = false;
	}
	
	if(staticCheckPass == false) {
		window.location.hash = "message";
		window.location = window.location;
		document.getElementById("spanmessage").innerHTML = 
			"The information you provided is not valid."
		checkAccount();
		checkEmail();
	}
	return staticCheckPass;
}
</script></div></form></body></html>